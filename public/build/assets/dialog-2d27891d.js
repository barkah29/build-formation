import{r as u,t as f,c as Re}from"./app-e9b8313f.js";import{o as b,s as se,C as y,y as P,a as X,u as L,p as Ce,$ as T,t as J,f as ce,b as V,T as ke,e as de,S as ae,c as Fe,d as le,m as Se}from"./transition-6e5962f9.js";import{n as W,I as Y,L as A,h as _,s as G,S as C,N as xe,e as Ae,a as M,b as Le,o as Me,r as Oe}from"./use-owner-62bb1e37.js";function fe(e,n){let t=u.useRef([]),o=b(e);u.useEffect(()=>{let r=[...t.current];for(let[l,a]of n.entries())if(t.current[l]!==a){let i=o(n,r);return t.current=n,i}},[o,...n])}function Ie(e,n,t){let o=se(n);u.useEffect(()=>{function r(l){o.current(l)}return window.addEventListener(e,r,t),()=>window.removeEventListener(e,r,t)},[e,t])}var B=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(B||{});function Be(){let e=u.useRef(0);return Ie("keydown",n=>{n.key==="Tab"&&(e.current=n.shiftKey?1:0)},!0),e}function Z(e,n,t,o){let r=se(t);u.useEffect(()=>{e=e??window;function l(a){r.current(a)}return e.addEventListener(n,l,o),()=>e.removeEventListener(n,l,o)},[e,n,o])}let He="div";var pe=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(pe||{});let I=Object.assign(y(function(e,n){let t=u.useRef(null),o=P(t,n),{initialFocus:r,containers:l,features:a=30,...i}=e;X()||(a=1);let d=W(t);Ne({ownerDocument:d},Boolean(a&16));let c=Ye({ownerDocument:d,container:t,initialFocus:r},Boolean(a&2));je({ownerDocument:d,container:t,containers:l,previousActiveElement:c},Boolean(a&8));let s=Be(),g=b(v=>{let h=t.current;h&&(D=>D())(()=>{L(s.current,{[B.Forwards]:()=>Y(h,A.First,{skipElements:[v.relatedTarget]}),[B.Backwards]:()=>Y(h,A.Last,{skipElements:[v.relatedTarget]})})})}),$=Ce(),p=u.useRef(!1),O={ref:o,onKeyDown(v){v.key=="Tab"&&(p.current=!0,$.requestAnimationFrame(()=>{p.current=!1}))},onBlur(v){let h=new Set(l==null?void 0:l.current);h.add(t);let D=v.relatedTarget;!D||D.dataset.headlessuiFocusGuard!=="true"&&(me(h,D)||(p.current?Y(t.current,L(s.current,{[B.Forwards]:()=>A.Next,[B.Backwards]:()=>A.Previous})|A.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&C(v.target)))}};return f.createElement(f.Fragment,null,Boolean(a&4)&&f.createElement(_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:G.Focusable}),T({ourProps:O,theirProps:i,defaultTag:He,name:"FocusTrap"}),Boolean(a&4)&&f.createElement(_,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:G.Focusable}))}),{features:pe});function Ne({ownerDocument:e},n){let t=u.useRef(null);Z(e==null?void 0:e.defaultView,"focusout",r=>{!n||t.current||(t.current=r.target)},!0),fe(()=>{n||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&C(t.current),t.current=null)},[n]);let o=u.useRef(!1);u.useEffect(()=>(o.current=!1,()=>{o.current=!0,J(()=>{!o.current||(C(t.current),t.current=null)})}),[])}function Ye({ownerDocument:e,container:n,initialFocus:t},o){let r=u.useRef(null),l=ce();return fe(()=>{if(!o)return;let a=n.current;!a||J(()=>{if(!l.current)return;let i=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===i){r.current=i;return}}else if(a.contains(i)){r.current=i;return}t!=null&&t.current?C(t.current):Y(a,A.First)===xe.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=e==null?void 0:e.activeElement})},[o]),r}function je({ownerDocument:e,container:n,containers:t,previousActiveElement:o},r){let l=ce();Z(e==null?void 0:e.defaultView,"focus",a=>{if(!r||!l.current)return;let i=new Set(t==null?void 0:t.current);i.add(n);let d=o.current;if(!d)return;let c=a.target;c&&c instanceof HTMLElement?me(i,c)?(o.current=c,C(c)):(a.preventDefault(),a.stopPropagation(),C(d)):C(o.current)},!0)}function me(e,n){var t;for(let o of e)if((t=o.current)!=null&&t.contains(n))return!0;return!1}let x=new Set,R=new Map;function ie(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ue(e){let n=R.get(e);!n||(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert)}function Ve(e,n=!0){V(()=>{if(!n||!e.current)return;let t=e.current,o=Ae(t);if(o){x.add(t);for(let r of R.keys())r.contains(t)&&(ue(r),R.delete(r));return o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement){for(let l of x)if(r.contains(l))return;x.size===1&&(R.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),ie(r))}}),()=>{if(x.delete(t),x.size>0)o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement&&!R.has(r)){for(let l of x)if(r.contains(l))return;R.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),ie(r)}});else for(let r of R.keys())ue(r),R.delete(r)}}},[n])}let ge=u.createContext(!1);function We(){return u.useContext(ge)}function z(e){return f.createElement(ge.Provider,{value:e.force},e.children)}function qe(e){let n=We(),t=u.useContext(ve),o=W(e),[r,l]=u.useState(()=>{if(!n&&t!==null||de)return null;let a=o==null?void 0:o.getElementById("headlessui-portal-root");if(a)return a;if(o===null)return null;let i=o.createElement("div");return i.setAttribute("id","headlessui-portal-root"),o.body.appendChild(i)});return u.useEffect(()=>{r!==null&&(o!=null&&o.body.contains(r)||o==null||o.body.appendChild(r))},[r,o]),u.useEffect(()=>{n||t!==null&&l(t.current)},[t,l,n]),r}let Ue=u.Fragment,_e=y(function(e,n){let t=e,o=u.useRef(null),r=P(ke(s=>{o.current=s}),n),l=W(o),a=qe(o),[i]=u.useState(()=>{var s;return de?null:(s=l==null?void 0:l.createElement("div"))!=null?s:null}),d=X(),c=u.useRef(!1);return V(()=>{if(c.current=!1,!(!a||!i))return a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i)),()=>{c.current=!0,J(()=>{var s;!c.current||!a||!i||(a.removeChild(i),a.childNodes.length<=0&&((s=a.parentElement)==null||s.removeChild(a)))})}},[a,i]),d?!a||!i?null:Re.createPortal(T({ourProps:{ref:r},theirProps:t,defaultTag:Ue,name:"Portal"}),i):null}),Ge=u.Fragment,ve=u.createContext(null),ze=y(function(e,n){let{target:t,...o}=e,r={ref:P(n)};return f.createElement(ve.Provider,{value:t},T({ourProps:r,theirProps:o,defaultTag:Ge,name:"Popover.Group"}))}),K=Object.assign(_e,{Group:ze}),he=u.createContext(null);function we(){let e=u.useContext(he);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,we),n}return e}function Ke(){let[e,n]=u.useState([]);return[e.length>0?e.join(" "):void 0,u.useMemo(()=>function(t){let o=b(l=>(n(a=>[...a,l]),()=>n(a=>{let i=a.slice(),d=i.indexOf(l);return d!==-1&&i.splice(d,1),i}))),r=u.useMemo(()=>({register:o,slot:t.slot,name:t.name,props:t.props}),[o,t.slot,t.name,t.props]);return f.createElement(he.Provider,{value:r},t.children)},[n])]}let Qe="p",Xe=y(function(e,n){let t=M(),{id:o=`headlessui-description-${t}`,...r}=e,l=we(),a=P(n);V(()=>l.register(o),[o,l.register]);let i={ref:a,...l.props,id:o};return T({ourProps:i,theirProps:r,slot:l.slot||{},defaultTag:Qe,name:l.name||"Description"})}),ee=u.createContext(()=>{});ee.displayName="StackContext";var Q=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Q||{});function Je(){return u.useContext(ee)}function Ze({children:e,onUpdate:n,type:t,element:o,enabled:r}){let l=Je(),a=b((...i)=>{n==null||n(...i),l(...i)});return V(()=>{let i=r===void 0||r===!0;return i&&a(0,t,o),()=>{i&&a(1,t,o)}},[a,t,o,r]),f.createElement(ee.Provider,{value:a},e)}function et(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var tt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(tt||{}),rt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(rt||{});let nt={[0](e,n){return e.titleId===n.id?e:{...e,titleId:n.id}}},j=u.createContext(null);j.displayName="DialogContext";function H(e){let n=u.useContext(j);if(n===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,H),t}return n}function ot(e,n,t=()=>[document.body]){u.useEffect(()=>{var o;if(!n||!e)return;let r=Se(),l=window.pageYOffset;function a(c,s,g){let $=c.style.getPropertyValue(s);return Object.assign(c.style,{[s]:g}),r.add(()=>{Object.assign(c.style,{[s]:$})})}let i=e.documentElement,d=((o=e.defaultView)!=null?o:window).innerWidth-i.clientWidth;if(a(i,"overflow","hidden"),d>0){let c=i.clientWidth-i.offsetWidth,s=d-c;a(i,"paddingRight",`${s}px`)}if(et()){a(e.body,"marginTop",`-${l}px`),window.scrollTo(0,0);let c=null;r.addEventListener(e,"click",s=>{if(s.target instanceof HTMLElement)try{let g=s.target.closest("a");if(!g)return;let{hash:$}=new URL(g.href),p=e.querySelector($);p&&!t().some(O=>O.contains(p))&&(c=p)}catch{}},!0),r.addEventListener(e,"touchmove",s=>{s.target instanceof HTMLElement&&!t().some(g=>g.contains(s.target))&&s.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})}return r.dispose},[e,n])}function at(e,n){return L(n.type,nt,e,n)}let lt="div",it=ae.RenderStrategy|ae.Static,ut=y(function(e,n){let t=M(),{id:o=`headlessui-dialog-${t}`,open:r,onClose:l,initialFocus:a,__demoMode:i=!1,...d}=e,[c,s]=u.useState(0),g=Fe();r===void 0&&g!==null&&(r=L(g,{[le.Open]:!0,[le.Closed]:!1}));let $=u.useRef(new Set),p=u.useRef(null),O=P(p,n),v=u.useRef(null),h=W(p),D=e.hasOwnProperty("open")||g!==null,te=e.hasOwnProperty("onClose");if(!D&&!te)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!D)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!te)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof r!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if(typeof l!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${l}`);let w=r?0:1,[k,Ee]=u.useReducer(at,{titleId:null,descriptionId:null,panelRef:u.createRef()}),F=b(()=>l(!1)),re=b(m=>Ee({type:0,id:m})),q=X()?i?!1:w===0:!1,N=c>1,be=u.useContext(j)!==null,$e=N?"parent":"leaf";Ve(p,N?q:!1);let ne=b(()=>{var m,S;return[...Array.from((m=h==null?void 0:h.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?m:[]).filter(E=>!(!(E instanceof HTMLElement)||E.contains(v.current)||k.panelRef.current&&E.contains(k.panelRef.current))),(S=k.panelRef.current)!=null?S:p.current]});Le(()=>ne(),F,q&&!N),Z(h==null?void 0:h.defaultView,"keydown",m=>{m.defaultPrevented||m.key===Me.Escape&&w===0&&(N||(m.preventDefault(),m.stopPropagation(),F()))}),ot(h,w===0&&!be,ne),u.useEffect(()=>{if(w!==0||!p.current)return;let m=new IntersectionObserver(S=>{for(let E of S)E.boundingClientRect.x===0&&E.boundingClientRect.y===0&&E.boundingClientRect.width===0&&E.boundingClientRect.height===0&&F()});return m.observe(p.current),()=>m.disconnect()},[w,p,F]);let[ye,Pe]=Ke(),Te=u.useMemo(()=>[{dialogState:w,close:F,setTitleId:re},k],[w,k,F,re]),oe=u.useMemo(()=>({open:w===0}),[w]),De={ref:O,id:o,role:"dialog","aria-modal":w===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":ye};return f.createElement(Ze,{type:"Dialog",enabled:w===0,element:p,onUpdate:b((m,S,E)=>{S==="Dialog"&&L(m,{[Q.Add](){$.current.add(E),s(U=>U+1)},[Q.Remove](){$.current.add(E),s(U=>U-1)}})})},f.createElement(z,{force:!0},f.createElement(K,null,f.createElement(j.Provider,{value:Te},f.createElement(K.Group,{target:p},f.createElement(z,{force:!1},f.createElement(Pe,{slot:oe,name:"Dialog.Description"},f.createElement(I,{initialFocus:a,containers:$,features:q?L($e,{parent:I.features.RestoreFocus,leaf:I.features.All&~I.features.FocusLock}):I.features.None},T({ourProps:De,theirProps:d,slot:oe,defaultTag:lt,features:it,visible:w===0,name:"Dialog"})))))))),f.createElement(_,{features:G.Hidden,ref:v}))}),st="div",ct=y(function(e,n){let t=M(),{id:o=`headlessui-dialog-overlay-${t}`,...r}=e,[{dialogState:l,close:a}]=H("Dialog.Overlay"),i=P(n),d=b(s=>{if(s.target===s.currentTarget){if(Oe(s.currentTarget))return s.preventDefault();s.preventDefault(),s.stopPropagation(),a()}}),c=u.useMemo(()=>({open:l===0}),[l]);return T({ourProps:{ref:i,id:o,"aria-hidden":!0,onClick:d},theirProps:r,slot:c,defaultTag:st,name:"Dialog.Overlay"})}),dt="div",ft=y(function(e,n){let t=M(),{id:o=`headlessui-dialog-backdrop-${t}`,...r}=e,[{dialogState:l},a]=H("Dialog.Backdrop"),i=P(n);u.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let d=u.useMemo(()=>({open:l===0}),[l]);return f.createElement(z,{force:!0},f.createElement(K,null,T({ourProps:{ref:i,id:o,"aria-hidden":!0},theirProps:r,slot:d,defaultTag:dt,name:"Dialog.Backdrop"})))}),pt="div",mt=y(function(e,n){let t=M(),{id:o=`headlessui-dialog-panel-${t}`,...r}=e,[{dialogState:l},a]=H("Dialog.Panel"),i=P(n,a.panelRef),d=u.useMemo(()=>({open:l===0}),[l]),c=b(s=>{s.stopPropagation()});return T({ourProps:{ref:i,id:o,onClick:c},theirProps:r,slot:d,defaultTag:pt,name:"Dialog.Panel"})}),gt="h2",vt=y(function(e,n){let t=M(),{id:o=`headlessui-dialog-title-${t}`,...r}=e,[{dialogState:l,setTitleId:a}]=H("Dialog.Title"),i=P(n);u.useEffect(()=>(a(o),()=>a(null)),[o,a]);let d=u.useMemo(()=>({open:l===0}),[l]);return T({ourProps:{ref:i,id:o},theirProps:r,slot:d,defaultTag:gt,name:"Dialog.Title"})}),bt=Object.assign(ut,{Backdrop:ft,Panel:mt,Overlay:ct,Title:vt,Description:Xe});export{bt as m};
